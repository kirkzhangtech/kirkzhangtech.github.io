<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MIT6.824ä¹‹lab2 | Fish Tank</title>
  <meta name="keywords" content="">
  <meta name="description" content="MIT6.824ä¹‹lab2 | Fish Tank">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°é˜…è¯»åŠ©æ•™æ–‡æ¡£ Studentsâ€™ Guide to Raft      Students&#39; Guide to Rafæ–‡æ¡£      https:&#x2F;&#x2F;thesquareplanet.com&#x2F;blog&#x2F;students-guide-to-raft&#x2F; åŸæ–‡é“¾æ¥    For the past few months, I have been a Teaching Assista">
<meta property="og:type" content="article">
<meta property="og:title" content="MIT6.824ä¹‹lab2">
<meta property="og:url" content="https://simonteo58.github.io/2022/08/12/MIT6.824/lab2_blog/index.html">
<meta property="og:site_name" content="Fish Tank">
<meta property="og:description" content="raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°é˜…è¯»åŠ©æ•™æ–‡æ¡£ Studentsâ€™ Guide to Raft      Students&#39; Guide to Rafæ–‡æ¡£      https:&#x2F;&#x2F;thesquareplanet.com&#x2F;blog&#x2F;students-guide-to-raft&#x2F; åŸæ–‡é“¾æ¥    For the past few months, I have been a Teaching Assista">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-08-12T13:57:38.288Z">
<meta property="article:modified_time" content="2022-08-13T15:18:10.453Z">
<meta property="article:author" content="kirkzhang">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/sublime.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>kirkzhang</span>
</div>

<div class="icon">
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(35)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="CPP">
                        
                        CPP
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="éæŠ€æœ¯ç±»">
                        
                        éæŠ€æœ¯ç±»
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="åˆ†å¸ƒå¼">
                        <i class="fold iconfont icon-right"></i>
                        
                        åˆ†å¸ƒå¼
                        <small>(2)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="åˆ†å¸ƒå¼<--->MIT6.824">
                                        
                                        MIT6.824
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="æ•°æ®ç»“æ„">
                        
                        æ•°æ®ç»“æ„
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="ç®—æ³•">
                        
                        ç®—æ³•
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="archive">
                        
                        archive
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="CICD">
                        
                        CICD
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="code_learning">
                        
                        code_learning
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="golang">
                        
                        golang
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="leetcode">
                        <i class="fold iconfont icon-right"></i>
                        
                        leetcode
                        <small>(17)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="leetcode<--->leetcodeé¢˜è§£">
                                        
                                        leetcodeé¢˜è§£
                                        
                                            <small>(17
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="linux">
                        
                        linux
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="TED">
                        
                        TED
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="WEB API">
                        
                        WEB API
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  "
               target="_blank"
                    
               href="/about">About</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="35">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="/null">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>éæŠ€æœ¯ç±»</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ansible</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CPP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>raft</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All åˆ†å¸ƒå¼ MIT6.824 "
           href="/2022/08/12/MIT6.824/lab2_blog/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MIT6.824ä¹‹lab2">MIT6.824ä¹‹lab2</span>
            <span class="post-date" title="2022-08-12 21:57:38">2022/08/12</span>
        </a>
        
        <a  class="All éæŠ€æœ¯ç±» "
           href="/2022/08/04/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E5%A4%9A%E5%B7%B4%E8%83%BA%E6%88%92%E6%96%AD/"
           data-tag="éæŠ€æœ¯ç±»"
           data-author="" >
            <span class="post-title" title="å¤šå·´èƒºæˆ’æ–­">å¤šå·´èƒºæˆ’æ–­</span>
            <span class="post-date" title="2022-08-04 23:08:38">2022/08/04</span>
        </a>
        
        <a  class="All åˆ†å¸ƒå¼ "
           href="/2022/07/26/SAF_mechanism/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SAF mechanism replication">SAF mechanism replication</span>
            <span class="post-date" title="2022-07-26 17:00:17">2022/07/26</span>
        </a>
        
        <a  class="All éæŠ€æœ¯ç±» "
           href="/2022/07/14/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E7%A6%85%E4%B8%8E%E6%91%A9%E6%89%98%E8%BD%A6%E7%BB%B4%E4%BF%AE%E8%89%BA%E6%9C%AF/"
           data-tag="éæŠ€æœ¯ç±»"
           data-author="" >
            <span class="post-title" title="ç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯">ç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯</span>
            <span class="post-date" title="2022-07-14 08:37:05">2022/07/14</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/2022/07/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%B2%E4%B9%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ•°æ®ç»“æ„è®²ä¹‰">æ•°æ®ç»“æ„è®²ä¹‰</span>
            <span class="post-date" title="2022-07-12 23:27:09">2022/07/12</span>
        </a>
        
        <a  class="All archive "
           href="/2022/06/24/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C%E5%BD%92%E6%A1%A3/archive/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ‰‹å†Œé˜…è¯»å½’æ¡£">æ‰‹å†Œé˜…è¯»å½’æ¡£</span>
            <span class="post-date" title="2022-06-24 06:54:11">2022/06/24</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/13.%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%95%B4%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="13.ç½—é©¬æ•°å­—è½¬æ•´æ•°">13.ç½—é©¬æ•°å­—è½¬æ•´æ•°</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/20.%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="20.æœ‰æ•ˆçš„æ‹¬å·">20.æœ‰æ•ˆçš„æ‹¬å·</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/14.%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="14.æœ€é•¿å…¬å…±å‰ç¼€">14.æœ€é•¿å…¬å…±å‰ç¼€</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/21.%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨">21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/27.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="27.ç§»é™¤å…ƒç´ ">27.ç§»é™¤å…ƒç´ </span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/28.%E5%AE%9E%E7%8E%B0-str-str/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="28.å®ç° strStr()">28.å®ç° strStr()</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/35.%E6%90%9C%E7%B4%A2%E6%8F%92%E5%85%A5%E4%BD%8D%E7%BD%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="35.æœç´¢æ’å…¥ä½ç½®">35.æœç´¢æ’å…¥ä½ç½®</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/58.%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%8D%95%E8%AF%8D%E7%9A%84%E9%95%BF%E5%BA%A6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="58.æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦">58.æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/66.%E5%8A%A0%E4%B8%80/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="66.åŠ ä¸€">66.åŠ ä¸€</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/67.%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B1%82%E5%92%8C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="67.äºŒè¿›åˆ¶çš„æ±‚å’Œ">67.äºŒè¿›åˆ¶çš„æ±‚å’Œ</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/53.%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="53.æœ€å¤§å­æ•°ç»„å’Œ">53.æœ€å¤§å­æ•°ç»„å’Œ</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/70.%E7%88%AC%E6%A5%BC%E6%A2%AF/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="70.çˆ¬æ¥¼æ¢¯">70.çˆ¬æ¥¼æ¢¯</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/83.%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="83.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ">83.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/88.%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="88.åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„">88.åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/9.%E5%9B%9E%E6%96%87%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="9.å›æ–‡æ•°">9.å›æ–‡æ•°</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/94.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="94.äºŒå‰æ ‘çš„ä¸­åºæ’åº">94.äºŒå‰æ ‘çš„ä¸­åºæ’åº</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcodeé¢˜è§£ "
           href="/2022/06/23/leetcode/69.x-%E7%9A%84%E5%B9%B3%E6%96%B9%E6%A0%B9/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="69.x-çš„å¹³æ–¹æ ¹">69.x-çš„å¹³æ–¹æ ¹</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All TED "
           href="/2022/06/22/TED/%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E4%B8%93%E6%B3%A8%E5%8A%9B/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="å¦‚ä½•æé«˜ä¸“æ³¨åŠ›-How to Get Your Brain to Focus-TED">å¦‚ä½•æé«˜ä¸“æ³¨åŠ›-How to Get Your Brain to Focus-TED</span>
            <span class="post-date" title="2022-06-22 23:10:43">2022/06/22</span>
        </a>
        
        <a  class="All ç®—æ³• "
           href="/2022/06/22/%E7%AE%97%E6%B3%95%E5%AF%BC%E8%AE%BA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ç®—æ³•å¯¼è®º">ç®—æ³•å¯¼è®º</span>
            <span class="post-date" title="2022-06-22 22:07:23">2022/06/22</span>
        </a>
        
        <a  class="All TED "
           href="/2022/06/22/TED/%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="å¦‚ä½•é˜…è¯»-TED">å¦‚ä½•é˜…è¯»-TED</span>
            <span class="post-date" title="2022-06-22 22:05:35">2022/06/22</span>
        </a>
        
        <a  class="All WEB API "
           href="/2022/06/22/API_design%E5%8E%9F%E5%88%99/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="API Design Patterns">API Design Patterns</span>
            <span class="post-date" title="2022-06-22 21:55:02">2022/06/22</span>
        </a>
        
        <a  class="All linux "
           href="/2022/06/22/Linux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%88%87shell%E8%85%B3%E6%9C%AC%E7%B7%A8%E7%A8%8B%E5%A4%A7%E5%85%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Linuxå‘½ä»¤è¡Œèˆ‡shellè…³æœ¬ç·¨ç¨‹å¤§å…¨">Linuxå‘½ä»¤è¡Œèˆ‡shellè…³æœ¬ç·¨ç¨‹å¤§å…¨</span>
            <span class="post-date" title="2022-06-22 21:53:01">2022/06/22</span>
        </a>
        
        <a  class="All golang "
           href="/2022/06/22/go%E5%9C%A3%E7%BB%8F/"
           data-tag="golang"
           data-author="" >
            <span class="post-title" title="goè¯­è¨€åœ£ç»">goè¯­è¨€åœ£ç»</span>
            <span class="post-date" title="2022-06-22 21:16:20">2022/06/22</span>
        </a>
        
        <a  class="All éæŠ€æœ¯ç±» "
           href="/2022/06/22/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E5%A6%82%E4%BD%95%E5%9C%A8%E8%AF%BB%E7%A0%94%E7%9A%84%E9%81%93%E8%B7%AF%E4%B8%8A%E5%BF%AB%E9%80%9F%E5%A4%B1%E8%B4%A5/"
           data-tag="éæŠ€æœ¯ç±»"
           data-author="" >
            <span class="post-title" title="å¦‚ä½•åœ¨è¯»ç ”çš„é“è·¯ä¸Šå¿«é€Ÿå¤±è´¥">å¦‚ä½•åœ¨è¯»ç ”çš„é“è·¯ä¸Šå¿«é€Ÿå¤±è´¥</span>
            <span class="post-date" title="2022-06-22 21:14:38">2022/06/22</span>
        </a>
        
        <a  class="All code_learning "
           href="/2022/06/22/golang_standard_library/"
           data-tag="raft"
           data-author="" >
            <span class="post-title" title="golang standard library">golang standard library</span>
            <span class="post-date" title="2022-06-22 21:04:15">2022/06/22</span>
        </a>
        
        <a  class="All éæŠ€æœ¯ç±» "
           href="/2022/06/22/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E4%BB%8E0%E5%88%B01_%E5%BC%80%E5%90%AF%E5%95%86%E4%B8%9A%E4%B8%8E%E6%9C%AA%E6%9D%A5%E7%9A%84%E7%A7%98%E5%AF%86/"
           data-tag="éæŠ€æœ¯ç±»"
           data-author="" >
            <span class="post-title" title="ä»0åˆ°1:å¼€å¯å•†ä¸šä¸æœªæ¥çš„ç§˜å¯†">ä»0åˆ°1:å¼€å¯å•†ä¸šä¸æœªæ¥çš„ç§˜å¯†</span>
            <span class="post-date" title="2022-06-22 20:51:26">2022/06/22</span>
        </a>
        
        <a  class="All CICD "
           href="/2022/06/22/docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="dockerä»å…¥é—¨åˆ°å®è·µ">dockerä»å…¥é—¨åˆ°å®è·µ</span>
            <span class="post-date" title="2022-06-22 20:47:28">2022/06/22</span>
        </a>
        
        <a  class="All CICD "
           href="/2022/06/22/%E5%A5%94%E8%B7%91%E5%90%A7ansible/"
           data-tag="ansible"
           data-author="" >
            <span class="post-title" title="å¥”è·‘å§ansible">å¥”è·‘å§ansible</span>
            <span class="post-date" title="2022-06-22 20:45:28">2022/06/22</span>
        </a>
        
        <a  class="All CPP "
           href="/2022/06/22/C++_Primer/"
           data-tag="CPP"
           data-author="" >
            <span class="post-title" title="C++ Primer Plus">C++ Primer Plus</span>
            <span class="post-date" title="2022-06-22 01:01:03">2022/06/22</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-MIT6.824/lab2_blog" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">MIT6.824ä¹‹lab2</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="åˆ†å¸ƒå¼">åˆ†å¸ƒå¼</a> > 
            
            <a  data-rel="åˆ†å¸ƒå¼&lt;---&gt;MIT6.824">MIT6.824</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2022-08-13 23:18:10'>2022-08-12 21:57</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="è·³è½¬è‡³è¯„è®ºåŒº">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#raft%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E7%9A%84%E8%AE%A4%E8%AF%86%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="toc-text">raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E5%8A%A9%E6%95%99%E6%96%87%E6%A1%A3"><span class="toc-text">é˜…è¯»åŠ©æ•™æ–‡æ¡£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-text">èƒŒæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0raft"><span class="toc-text">å®ç°raft</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%9A%84%E7%BB%86%E8%8A%82"><span class="toc-text">é‡è¦çš„ç»†èŠ‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Debugging-Raft"><span class="toc-text">Debugging Raft</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Applications-on-top-of-Raft"><span class="toc-text">Applications on top of Raft</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°"><a href="#raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°" class="headerlink" title="raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°"></a>raftå…±è¯†ç®—æ³•çš„è®¤è¯†ä¸å®ç°</h1><h2 id="é˜…è¯»åŠ©æ•™æ–‡æ¡£"><a href="#é˜…è¯»åŠ©æ•™æ–‡æ¡£" class="headerlink" title="é˜…è¯»åŠ©æ•™æ–‡æ¡£"></a>é˜…è¯»åŠ©æ•™æ–‡æ¡£</h2><ul>
<li><p>Studentsâ€™ Guide to Raft</p>
  <details>
  <summary>Students' Guide to Rafæ–‡æ¡£</summary>
  <pre>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://thesquareplanet.com/blog/students-guide-to-raft/">https://thesquareplanet.com/blog/students-guide-to-raft/</a> åŸæ–‡é“¾æ¥</p>
</blockquote>
<p>  For the past few months, I have been a Teaching Assistant for MITâ€™s 6.824 Distributed Systems class. The class has traditionally had a number of labs building on the Paxos consensus algorithm, but this year, we decided to make the move to Raft. Raft was â€œdesigned to be easy to understandâ€, and our hope was that the change might make the studentsâ€™ lives easier.</p>
<p>  This post, and the accompanying <strong>Instructorsâ€™ Guide to Raft</strong> post, chronicles our journey with Raft, and will hopefully be useful to implementers of the Raft protocol and students trying to get a better understanding of Raftâ€™s internals. If you are looking for a Paxos vs Raft comparison, or for a more pedagogical analysis of Raft, you should go read the Instructorsâ€™ Guide. The bottom of this post contains a list of questions commonly asked by 6.824 students, as well as answers to those questions. If you run into an issue that is not listed in the main content of this post, check out the Q&amp;A. The post is quite long, but all the points it makes are real problems that a lot of 6.824 students (and TAs) ran into. It is a worthwhile read.</p>
<p>  åœ¨è¿‡å»å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘æˆä¸ºäº†MIT6.824çš„ä¸€ååŠ©æ•™.ä»¥å¾€è¿™é—¨è¯¾ç¨‹çš„å®éªŒéƒ½æ˜¯åŸºäºpaxoså®ç°ä¸€è‡´æ€§ç®—æ³•,ç„¶åä»Šå¹´(2016),æˆ‘ä»¬å†³å®šä½¿ç”¨raft,raftçš„è®¾è®¡ç†å¿µæ˜¯â€ç†è§£é—¨æ§›ä½â€ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹Ÿå¸Œæœ›è¿™é¡¹å†³å®šä½¿åŒå­¦ä»¬çš„ç”Ÿæ´»æ›´ç®€å•[åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘ä¸€ç›´æ˜¯éº»çœç†å·¥å­¦é™¢6.824åˆ†å¸ƒå¼ç³»ç»Ÿè¯¾çš„æ•™å­¦åŠ©ç†ã€‚è¿™é—¨è¯¾ä¼ ç»Ÿä¸Šæœ‰ä¸€äº›å»ºç«‹åœ¨Paxoså…±è¯†ç®—æ³•ä¸Šçš„å®éªŒï¼Œä½†ä»Šå¹´ï¼Œæˆ‘ä»¬å†³å®šæ”¹ç”¨Raftã€‚Raftæ˜¯ â€œè®¾è®¡æˆæ˜“äºç†è§£çš„â€ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸€æ”¹å˜èƒ½ä½¿å­¦ç”Ÿçš„ç”Ÿæ´»æ›´è½»æ¾]</p>
<p>  è¿™ç¯‡å®éªŒæŒ‡å—,å¯¹åº”ç€â€æ•™å¸ˆæ•™å­¦æŒ‡å—â€ï¼Œå°è¯ç€æˆ‘ä»¬å®éªŒå®¤ä¸raftçš„journeyï¼Œä¹Ÿå¸Œæœ›å¯¹å­¦ç”Ÿæ›´å¥½çš„ç†è§£raftå†…éƒ¨è¿è¡Œæœºåˆ¶ï¼Œå®ç°raftåˆ†å¸ƒå¼åè®®èµ·åˆ°å¸®åŠ©,å¦‚æœä½ æ­£åœ¨å¯»æ‰¾Raftå’ŒPaxosçš„å¯¹æ¯”ï¼Œæˆ–è€…raftçš„æ•™å­¦(pedagogical)åˆ†æ,è¯·å‰å»é˜…è¯»ã€Šæ•™å¸ˆæ•™å­¦æŒ‡å—ã€‹.æ–‡ç« åº•éƒ¨åŒ…å«ä¸€äº›å­¦ç”Ÿæé—®çš„å…³äºraftçš„å…±æ€§é—®é¢˜çš„é—®é¢˜åˆ—è¡¨ã€‚å¦‚æœä½ é‡åˆ°çš„é—®é¢˜ä¸åœ¨é‚£äº›é—®é¢˜ä¹‹å†…ï¼Œè¯·å‰å»æ£€æŸ¥Q&amp;Aç³»ç»Ÿï¼Œè¿™ç¯‡æ–‡ç« éå¸¸çš„é•¿,ä½†æ˜¯å®ƒæå‡ºçš„æ‰€æœ‰ç‚¹ï¼Œéƒ½æ˜¯ç°å®ä¸­å­¦ç”Ÿ(åŠ©æ•™)ç¢°åˆ°è¿‡çš„é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ç¯‡å€¼å¾—é˜…è¯»çš„æ–‡ç« ã€‚</p>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>  Before we dive into Raft, some context may be useful. 6.824 used to have a set of Paxos-based labs that were built in Go; Go was chosen both because it is easy to learn for students, and because is pretty well-suited for writing concurrent, distributed applications (goroutines come in particularly handy). Over the course of four labs, students build a fault-tolerant, sharded key-value store. The first lab had them build a consensus-based log library, the second added a key value store on top of that, and the third sharded the key space among multiple fault-tolerant clusters, with a fault-tolerant shard master handling configuration changes. We also had a fourth lab in which the students had to handle the failure and recovery of machines, both with and without their disks intact. This lab was available as a default final project for students.</p>
<p>  This year, we decided to rewrite all these labs using Raft. The first three labs were all the same, but the fourth lab was dropped as persistence and failure recovery is already built into Raft. This article will mainly discuss our experiences with the first lab, as it is the one most directly related to Raft, though I will also touch on building applications on top of Raft (as in the second lab).</p>
<p>  Raft, for those of you who are just getting to know it, is best described by the text on the protocolâ€™s <a target="_blank" rel="noopener" href="https://raft.github.io/">web site</a>:</p>
<p>  å¼€å§‹æ·±å…¥ç ”ç©¶raftä¹‹å‰,ä¸€äº›å‰æƒ…æè¦æˆ–è®¸æ˜¯æœ‰ç”¨çš„ï¼Œ6.824è¿‡å»æœ‰ä¸€äº›åŸºäºç”¨golangå®ç°çš„Paxoså®éªŒï¼Œä¹‹æ‰€ä»¥é€‰æ‹©goæ˜¯å› ä¸ºå®ƒæ˜“äºç†è§£å’Œå­¦ä¹ çš„ï¼Œå®ƒéå¸¸é€‚åˆå®ç°é«˜å¹¶å‘ï¼Œåˆ†å¸ƒå¼åº”ç”¨(goroutineæ˜¯ç‰¹åˆ«ä¾¿åˆ©çš„)ï¼Œé€šè¿‡è¿™é—¨è¯¾ç¨‹çš„å››é—¨å®éªŒè¯¾ç¨‹ï¼Œå­¦ç”Ÿæ„å»ºä¸€ä¸ªå®¹é”™çš„ï¼Œå…±äº«key-valueå­˜å‚¨ç³»ç»Ÿï¼Œç¬¬ä¸€ä¸ªå®éªŒè®©ä½ æ„å»ºä¸€ä¸ªåŸºäºlogçš„ä¸€è‡´æ€§ç®—æ³•åº“,ç¬¬äºŒé—¨å®éªŒåœ¨ä¸€è‡´æ€§ç®—æ³•åº“æ™ºå•†æ·»åŠ äº†key-valueçš„å­˜å‚¨ï¼Œç¬¬ä¸‰ä»¬å®éªŒè¯¾æ˜¯å®éªŒæ„å»ºå…±äº«çš„key-valueå®¹é”™é›†ç¾¤,ä½¿ç”¨å…±äº«masterèŠ‚ç‚¹è§£å†³é›†ç¾¤æˆå‘˜å˜æ›´ï¼ŒåŒæ—¶ç¬¬å››ä»¬å®éªŒ,å­¦ç”Ÿä¸å¾—ä¸å®ç°å¤±è´¥å’Œæ¢å¤æœºåˆ¶ï¼ŒåŒ…æ‹¬ç£ç›˜å®Œæ•´å’Œç£ç›˜ä¸å®Œæ•´çš„æƒ…å†µè¿™ä¸ªå®ç°æ›¾ä½œä¸ºå­¦ç”Ÿé»˜è®¤çš„æœ€åå®éªŒ</p>
<p>  è¿™äº›å¹´æˆ‘ä»¬å†³å®šä½¿ç”¨rafté‡å†™æ‰€æœ‰mit6.824çš„å®éªŒï¼Œå‰ä¸‰ä¸ªå®éªŒè·Ÿä»¥å‰æ˜¯ç›¸åŒçš„,ä½†æ˜¯åˆ é™¤äº†ç¬¬å››ä¸ªå·²ç»åœ¨raftä¸­å®ç°äº†å…³äºå¤±è´¥ä¸æŒä¹…åŒ–çš„å®éªŒ,è¿™ç¯‡æ–‡ç« ä¸»è¦è®¨è®ºäº†æˆ‘ä»¬ç¬¬ä¸€ä¸ªå®éªŒçš„ç»éªŒï¼Œä¸€ä¸ªç›´æ¥è·Ÿraftç›¸å…³çš„çš„å®éªŒï¼Œè™½ç„¶æˆ‘ä»¬ä¹Ÿä¼šæ¥è§¦åˆ°æ„å»ºraftä¹‹ä¸Šçš„åº”ç”¨å±‚,(ç¬¬äºŒé—¨å®éªŒ)ã€‚</p>
<p>  å¦‚æœæƒ³äº†è§£raftçš„ç®€å•çš„è¿è¡Œé€»è¾‘ï¼Œè¿™ä¸ª<a target="_blank" rel="noopener" href="https://raft.github.io/">web site</a>ç½‘ç«™æ¼”ç¤ºçš„raftåè®®æ˜¯æœ€å¥½çš„æ–‡å­—ææ–™</p>
<h2 id="å®ç°raft"><a href="#å®ç°raft" class="headerlink" title="å®ç°raft"></a>å®ç°raft</h2><p>  raftè®ºæ–‡çš„figure2æ˜¯æœ€å¥½çš„guideï¼Œfigure2æŒ‡å®šæ¯ä¸ªRPCçš„å·¥ä½œçš„æ–¹å¼ï¼Œå½“ä½ è¯»å®Œfigure2å°±å¯ä»¥ç€æ‰‹å®ç°raftï¼Œä½†æ˜¯é—®é¢˜ä¹Ÿå°±æ¥è¸µè€Œè‡³ã€‚å®é™…ä¸Šï¼Œfigure2æ˜¯æå…¶ä¸¥æ ¼çš„ï¼Œè®ºæ–‡ä¸­æœ‰äº›å™è¿°æ˜¯mustè€Œä¸æ˜¯shouldï¼Œä¸¾ä¸ªä¾‹å­ï¼ŒRequest vote and Append entry RPC,è¿™ä¸¤ä¸ªRPCè¯´æ˜ï¼Œå…¶ä»–çš„serverå…¶ä¸­ä¸€ä¸ªæ˜¯leaderï¼Œå¦ä¸€ä¸ªæ˜¯candidateåœ¨å°è¯•æˆä¸ºleaderï¼Œè¿™ä¸å…è®¸äººä¸ºå¹²é¢„æˆ–è€…æ¨ç†ã€‚</p>
<blockquote>
<p>If election timeout elapses without receiving AppendEntries RPC from current leader or granting vote to candidate: convert to candidate.</p>
</blockquote>
<p>  è¿™ä¸¤è€…çš„åŒºåˆ«å˜å¾—å¾ˆé‡è¦ï¼Œåœ¨æ­£å¼çš„å®ç°å½“ä¸­ï¼ˆå·¥ä¸šçº§å®ç°ï¼‰åœ¨ç‰¹å®šç¯å¢ƒä¸­ä¼šæ˜¾è‘—çš„å‡å°‘leaderæ´»æ€§ã€‚ to be continue</p>
<h2 id="é‡è¦çš„ç»†èŠ‚"><a href="#é‡è¦çš„ç»†èŠ‚" class="headerlink" title="é‡è¦çš„ç»†èŠ‚"></a>é‡è¦çš„ç»†èŠ‚</h2><p>  raftä¼šæŠŠæ²¡æœ‰newtryçš„appendEntryçš„RPCè§†ä¸ºhearbeat,å¾ˆå¤šåŒå­¦å‡è®¾AppendEntry RPCæ˜¯æŸç§ç‰¹æ®Šçš„RPC,å°¤å…¶æ˜¯å¾ˆå¤šäººæ˜¯æŒ‡ç®€å•çš„resetè®¡æ—¶å™¨ï¼Œç„¶åè¿”å›successï¼Œè€Œä¸è¿›è¡Œä»»ä½•çš„å†²çªæ£€æµ‹ï¼Œæ¥å—acceptå°±æ‰¿è®¤followeræ‰¿è®¤æ²¡æœ‰å†²çªï¼Œleaderæ ¹æ®è¿”å›çš„responseæ¥æäº¤logEntry,å¦å¤–ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œfolloweræ ¹æ®æ”¶åˆ°å†²çªçš„prevLogIndexï¼Œå°±ä¼šåˆ æ‰é‚£ä¸ªç‚¹çš„logï¼Œç„¶åå§entriesç›´æ¥è¿›è¡Œå¤åˆ¶ã€‚</p>
<blockquote>
<p>If an existing entry conflicts with a new one (same index but different terms), delete the existing entry and all that follow it.</p>
</blockquote>
<p>  è¿™é‡Œçš„ifå¾ˆå…³é”®ã€‚å¦‚æœè·Ÿéšè€…æ‹¥æœ‰é¢†å¯¼è€…å‘é€çš„æ‰€æœ‰æ¡ç›®ï¼Œè·Ÿéšè€…å¿…é¡»ä¸æˆªæ–­å…¶æ—¥å¿—ã€‚ä»»ä½•è·Ÿéšé¢†å¯¼è€…å‘é€çš„æ¡ç›®çš„å…ƒç´ éƒ½å¿…é¡»è¢«ä¿ç•™ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¯èƒ½ä»é¢†å¯¼è€…é‚£é‡Œæ”¶åˆ°äº†ä¸€ä¸ªè¿‡æ—¶çš„AppendEntries RPCï¼Œè€Œæˆªæ–­æ—¥å¿—å°†æ„å‘³ç€ â€œæ”¶å›â€æˆ‘ä»¬å¯èƒ½å·²ç»å‘Šè¯‰é¢†å¯¼è€…æˆ‘ä»¬çš„æ—¥å¿—ä¸­çš„æ¡ç›®ã€‚</p>
<h2 id="Debugging-Raft"><a href="#Debugging-Raft" class="headerlink" title="Debugging Raft"></a>Debugging Raft</h2><p>  ç¬¬ä¸€ç‰ˆçš„å®ç°è‚¯å®šæ˜¯é—®é¢˜æ‘†å‡ºï¼Œæˆ‘ä»¬éœ€è¦æ…¢æ…¢çš„è¿­ä»£å®ç°ï¼Œ é—®é¢˜å¤§è‡´æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼Œ</p>
<ul>
<li><p>æ´»é”</p>
<ol>
<li>å½“ä½ çš„ç³»ç»Ÿæ´»é”æ—¶ï¼Œä½ ç³»ç»Ÿä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åœ¨åšä¸€äº›äº‹æƒ…ï¼Œä½†ä½ çš„èŠ‚ç‚¹é›†ä½“å¤„äºè¿™æ ·ä¸€ç§çŠ¶æ€ï¼Œæ²¡æœ‰ä»»ä½•è¿›å±•ã€‚è¿™ç§æƒ…å†µåœ¨Raftä¸­å¾ˆå®¹æ˜“å‘ç”Ÿï¼Œå°¤å…¶æ˜¯å½“ä½ æ²¡æœ‰è™”è¯šåœ°éµå¾ªå›¾2æ—¶ã€‚</li>
<li>æœ‰ä¸€ç§æ´»é”æƒ…å†µç‰¹åˆ«ç»å¸¸å‡ºç°ï¼›æ²¡æœ‰é€‰ä¸¾é¢†å¯¼äººï¼Œæˆ–è€…ä¸€æ—¦é€‰ä¸¾äº†é¢†å¯¼äººï¼Œå…¶ä»–èŠ‚ç‚¹åˆå¼€å§‹é€‰ä¸¾ï¼Œè¿«ä½¿æœ€è¿‘å½“é€‰çš„é¢†å¯¼äººç«‹å³é€€ä½ã€‚<br>  é€šå¸¸æƒ…å†µä¸‹æ˜¯æ‹¥æœ‰æœ€æ–°logçš„æœåŠ¡å™¨å’Œè¿‡æœŸæœåŠ¡å™¨åŒæ—¶ç«äº‰æœåŠ¡å™¨ï¼Œä½†æ˜¯é€šå¸¸æ˜¯æ‹¥æœ‰æœ€æ–°logæœåŠ¡å™¨ç«é€‰æˆåŠŸã€‚</li>
<li>é‡åˆ°é«˜termå°±å˜æˆfollower</li>
</ol>
</li>
<li><p>ä¸æ­£ç¡®çš„RPC</p>
<ol>
<li>é˜²ç°ä¸å¯¹é€»è¾‘çš„RPCå°±å°½å¿«è¿”å›false</li>
<li>å‘ç°followerçš„æ—¥å¿—å°‘äº†ï¼Œfollowerå°±è¿”å›falseï¼Œç„¶åå°†æœ€æ–°indexæ›´æ–°ç»™leaderçš„nextIndex</li>
<li>leaderå³ä½¿æ²¡æœ‰å‘é€entryï¼Œä¹Ÿè¦æ£€æŸ¥prevLogIndex</li>
<li>AppendEntriesçš„æœ€åä¸€æ­¥ï¼ˆ#5ï¼‰ä¸­çš„minæ˜¯å¿…è¦çš„ï¼Œå®ƒéœ€è¦ç”¨æœ€åä¸€ä¸ªæ–°æ¡ç›®çš„ç´¢å¼•æ¥è®¡ç®—ã€‚ä»…ä»…è®©åº”ç”¨lastAppliedå’ŒcommitIndexä¹‹é—´çš„æ—¥å¿—å†…å®¹çš„å‡½æ•°åœ¨åˆ°è¾¾æ—¥å¿—çš„æœ«å°¾æ—¶åœæ­¢ï¼Œæ˜¯ä¸å¤Ÿçš„ã€‚è¿™æ˜¯å› ä¸ºä½ çš„æ—¥å¿—ä¸­å¯èƒ½ä¼šæœ‰ä¸é¢†å¯¼è€…çš„æ—¥å¿—ä¸åŒçš„æ¡ç›®ï¼Œåœ¨é¢†å¯¼è€…å‘ç»™ä½ çš„æ¡ç›®ä¹‹åï¼ˆè¿™äº›æ¡ç›®éƒ½ä¸ä½ çš„æ—¥å¿—ä¸­çš„æ¡ç›®ä¸€è‡´ï¼‰ã€‚å› ä¸º #3 å†³å®šäº†ä½ åªåœ¨æœ‰å†²çªçš„æ¡ç›®æ—¶æ‰æˆªæ–­ä½ çš„æ—¥å¿—ï¼Œé‚£äº›æ¡ç›®ä¸ä¼šè¢«åˆ é™¤ï¼Œå¦‚æœ leaderCommit è¶…å‡ºäº†é¢†å¯¼è€…å‘ç»™ä½ çš„æ¡ç›®ï¼Œä½ å¯èƒ½ä¼šåº”ç”¨ä¸æ­£ç¡®çš„æ¡ç›®ã€‚å‘é€é«˜leader commit indexå’Œç©ºçš„entryçš„RPCå°±ä¼šå¯¼è‡´applyå‡ºç°é—®é¢˜</li>
<li>è¦å®Œå…¨æŒ‰ç…§ç¬¬5.4èŠ‚ä¸­æè¿°çš„æ–¹å¼å®ç° â€œæœ€æ–°æ—¥å¿—â€æ£€æŸ¥ã€‚è€è€å®å®çš„å®ç°ï¼Œä¸è¦åªåªæ£€æŸ¥é•¿åº¦!</li>
</ol>
</li>
<li><p>æ²¡æœ‰æŒ‰ç…§è®ºæ–‡çš„ç†è®ºå®ç°raft</p>
<ol>
<li>åœ¨ä»»ä½•é˜¶æ®µ<code>commitIndex&gt;lastApplied</code>ä½ éƒ½å¯ä»¥ç›´æ¥<code>apply</code>logåˆ°ä¸Šå±‚çŠ¶æ€æœº,æäº¤æ—¥å¿—çš„æ—¶å€™ä¸æŒæœ‰é”æˆ–è€…è®¾ç½®æ•°æ®ä¿æŠ¤åŒºï¼Œä¿è¯å…¶ä»–ç¨‹åºä¸applyæ—¥å¿—</li>
<li>å°†<code>commitIndex&gt;lastApplied</code>è§£è€¦,æ¯æ¬¡sentoutå¿ƒè·³çš„æ—¶å€™æ£€æŸ¥<code>commitIndex</code>ä½ å¿…é¡»è¦ç­‰<code>appendlog</code>åŠ¨ä½œå®Œæˆ</li>
<li><code>AppendEntries</code>RPCå¹¶ä¸æ˜¯å› ä¸ºlogä¸ä¸€è‡´è¢«reject,åº”è¯¥ç«‹åˆ»é™çº§ä¸ºfollower,ä¸è¦æ›´æ–°<code>nextIndex</code>ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™ç«‹åˆ»é€‰ä¸¾ä½ å¯èƒ½ä¼šé¢å¯¹æ•°æ®ç«äº‰çš„é—®é¢˜</li>
<li><code>commitIndex</code>ä¸èƒ½è®¾ç½®ä¸ºæ—§çš„termï¼Œä½ ä¸€å®šè¦checklog[N].Term &#x3D;&#x3D;currentTerm.è¿™æ˜¯å› ä¸ºleaderä¸çŸ¥é“followeræ˜¯å¦åœ¨å½“å‰ä»»æœŸæäº¤äº†æ—¥å¿—,Figure 8ä¼šè¯¦ç»†é˜è¿°è¿™ä¸ªé—®é¢˜</li>
</ol>
 <pre class="language-text" data-language="text"><code class="language-text">One common source of confusion is the difference between nextIndex and matchIndex. In particular, you may observe that matchIndex = nextIndex - 1, and simply not implement matchIndex. This is not safe. While nextIndex and matchIndex are generally updated at the same time to a similar value (specifically, nextIndex = matchIndex + 1), the two serve quite different purposes. nextIndex is a guess as to what prefix the leader shares with a given follower. It is generally quite optimistic (we share everything), and is moved backwards only on negative responses. For example, when a leader has just been elected, nextIndex is set to be index index at the end of the log. In a way, nextIndex is used for performance â€“ you only need to send these things to this peer.matchIndex is used for safety. It is a conservative measurement of what prefix of the log the leader shares with a given follower. matchIndex cannot ever be set to a value that is too high, as this may cause the commitIndex to be moved too far forward. This is why matchIndex is initialized to -1 (i.e., we agree on no prefix), and only updated when a follower positively acknowledges an AppendEntries RPC.</code></pre>

<p> æ­£å¸¸æƒ…å†µä¸‹ç¡®å®æ˜¯<code>matchIndex = nextIndex - 1</code>,ç„¶åå°±ä¸å®ç°<code>matchIndex</code>æ˜¯ä¸å®‰å…¨çš„,<code>nextIndex</code>åªæ˜¯ç®€å•çš„è®¤ä¸ºleaderå·²ç»æäº¤äº†å‘é€äº†å“ªäº›ä»¥å‰çš„logEntryï¼Œæ¯”å¦‚leaderè¢«é€‰ä¸¾å‡ºæ¥åªæ˜¯è®²nextIndexè®¾ç½®ä¸ºlogçš„é•¿åº¦ï¼Œè€Œ<code>matchIndex</code>åˆ™æ˜¯å®‰å…¨çš„æ–¹æ³•ï¼Œç¡®å®šleaderå·²ç»æäº¤äº†å¤šå°‘çš„æ—¥å¿—ï¼Œ<code>matchIndex</code>ä¸ä¼šè®¾ç½®çš„å¤ªé«˜ï¼Œè¿™ä¼šå¯¼è‡´<code>commitIndex</code>ç§»åŠ¨çš„å¤ªå¿«</p>
</li>
<li><p>termæ··ä¹±ï¼ˆtermä¸ç¨³å®š)</p>
  <pre class="language-text" data-language="text"><code class="language-text">Term confusion refers to servers getting confused by RPCs that come from old terms. In general, this is not a problem when receiving an RPC, since the rules in Figure 2 say exactly what you should do when you see an old term. However, Figure 2 generally doesnâ€™t discuss what you should do when you get old RPC replies. From experience, we have found that by far the simplest thing to do is to first record the term in the reply (it may be higher than your current term), and then to compare the current term with the term you sent in your original RPC. If the two are different, drop the reply and return. Only if the two terms are the same should you continue processing the reply. There may be further optimizations you can do here with some clever protocol reasoning, but this approach seems to work well. And not doing it leads down a long, winding path of blood, sweat, tears and despair.

A related, but not identical problem is that of assuming that your state has not changed between when you sent the RPC, and when you received the reply. A good example of this is setting matchIndex = nextIndex - 1, or matchIndex = len(log) when you receive a response to an RPC. This is not safe, because both of those values could have been updated since when you sent the RPC. Instead, the correct thing to do is update matchIndex to be prevLogIndex + len(entries[]) from the arguments you sent in the RPC originally.</code></pre>
<p>  å› ä¸ºç½‘ç»œå¯¼è‡´çš„RPCè¿‡æœŸé—®é¢˜ï¼Œtermæ··æ·†æ˜¯æŒ‡æœåŠ¡å™¨è¢«æ¥è‡ªæ—§termçš„RPCæ‰€è¿·æƒ‘ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ”¶åˆ°RPCæ—¶ï¼Œå› ä¸ºå›¾2ä¸­çš„è§„åˆ™ç¡®åˆ‡åœ°è¯´æ˜äº†å½“ä½ çœ‹åˆ°ä¸€ä¸ªæ—§termæ—¶ä½ åº”è¯¥åšä»€ä¹ˆã€‚ç„¶è€Œï¼Œå›¾2ä¸€èˆ¬æ²¡æœ‰è®¨è®ºå½“ä½ æ”¶åˆ°æ—§çš„RPCå›å¤æ—¶ä½ åº”è¯¥åšä»€ä¹ˆã€‚æ ¹æ®ç»éªŒï¼Œæˆ‘ä»¬å‘ç°ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæœ€ç®€å•çš„åšæ³•æ˜¯é¦–å…ˆè®°å½•å›å¤ä¸­çš„æœ¯è¯­ï¼ˆå®ƒå¯èƒ½æ¯”ä½ å½“å‰çš„termé«˜ï¼‰ï¼Œç„¶åå°†å½“å‰termä¸ä½ åœ¨åŸå§‹RPCä¸­å‘é€çš„termè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤è€…ä¸åŒï¼Œå°±æ”¾å¼ƒå›å¤å¹¶è¿”å›ã€‚åªæœ‰å½“è¿™ä¸¤ä¸ªæœ¯è¯­ç›¸åŒæ—¶ï¼Œä½ æ‰åº”è¯¥ç»§ç»­å¤„ç†å›å¤ã€‚ä¹Ÿè®¸ä½ å¯ä»¥é€šè¿‡ä¸€äº›å·§å¦™çš„åè®®æ¨ç†åœ¨è¿™é‡Œåšè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œä½†è¿™ç§æ–¹æ³•ä¼¼ä¹å¾ˆæœ‰æ•ˆã€‚è€Œä¸è¿™æ ·åšä¼šå¯¼è‡´ä¸€æ¡æ¼«é•¿è€Œæ›²æŠ˜çš„è¡€æ±—ã€æ³ªæ°´å’Œç»æœ›çš„é“è·¯ã€‚</p>
</li>
<li><p>ä¼˜åŒ–</p>
  <pre class="language-text" data-language="text"><code class="language-text">An aside on optimizations
The Raft paper includes a couple of optional features of interest. In 6.824, we require the students to implement two of them: log compaction (section 7) and accelerated log backtracking (top left hand side of page 8). The former is necessary to avoid the log growing without bound, and the latter is useful for bringing stale followers up to date quickly.

These features are not a part of â€œcore Raftâ€, and so do not receive as much attention in the paper as the main consensus protocol. Log compaction is covered fairly thoroughly (in Figure 13), but leaves out some design details that you might miss if you read it too casually:

When snapshotting application state, you need to make sure that the application state corresponds to the state following some known index in the Raft log. This means that the application either needs to communicate to Raft what index the snapshot corresponds to, or that Raft needs to delay applying additional log entries until the snapshot has been completed.
The text does not discuss the recovery protocol for when a server crashes and comes back up now that snapshots are involved. In particular, if Raft state and snapshots are committed separately, a server could crash between persisting a snapshot and persisting the updated Raft state. This is a problem, because step 7 in Figure 13 dictates that the Raft log covered by the snapshot must be discarded.

If, when the server comes back up, it reads the updated snapshot, but the outdated log, it may end up applying some log entries that are already contained within the snapshot. This happens since the commitIndex and lastApplied are not persisted, and so Raft doesnâ€™t know that those log entries have already been applied. The fix for this is to introduce a piece of persistent state to Raft that records what â€œrealâ€ index the first entry in Raftâ€™s persisted log corresponds to. This can then be compared to the loaded snapshotâ€™s lastIncludedIndex to determine what elements at the head of the log to discard.

The accelerated log backtracking optimization is very underspecified, probably because the authors do not see it as being necessary for most deployments. It is not clear from the text exactly how the conflicting index and term sent back from the client should be used by the leader to determine what nextIndex to use. We believe the protocol the authors probably want you to follow is:

If a follower does not have prevLogIndex in its log, it should return with conflictIndex = len(log) and conflictTerm = None.
If a follower does have prevLogIndex in its log, but the term does not match, it should return conflictTerm = log[prevLogIndex].Term, and then search its log for the first index whose entry has term equal to conflictTerm.
Upon receiving a conflict response, the leader should first search its log for conflictTerm. If it finds an entry in its log with that term, it should set nextIndex to be the one beyond the index of the last entry in that term in its log.
If it does not find an entry with that term, it should set nextIndex = conflictIndex.
A half-way solution is to just use conflictIndex (and ignore conflictTerm), which simplifies the implementation, but then the leader will sometimes end up sending more log entries to the follower than is strictly necessary to bring them up to date.</code></pre>

<ul>
<li><p>å½“å¿«ç…§åº”ç”¨ç¨‹åºçŠ¶æ€æ—¶ï¼Œä½ éœ€è¦ç¡®ä¿åº”ç”¨ç¨‹åºçŠ¶æ€ä¸Raftæ—¥å¿—ä¸­æŸä¸ªå·²çŸ¥ç´¢å¼•ä¹‹åçš„çŠ¶æ€ç›¸å¯¹åº”ï¼Œè¿™æ„å‘³ç€åº”ç”¨ç¨‹åºè¦ä¹ˆéœ€è¦å‘Raftä¼ è¾¾å¿«ç…§æ‰€å¯¹åº”çš„ç´¢å¼•ï¼Œè¦ä¹ˆRaftéœ€è¦æ¨è¿Ÿåº”ç”¨é¢å¤–çš„æ—¥å¿—æ¡ç›®ï¼Œç›´åˆ°å¿«ç…§å®Œæˆã€‚</p>
</li>
<li><p>è¯¥æ–‡æœ¬æ²¡æœ‰è®¨è®ºå½“æœåŠ¡å™¨å´©æºƒå¹¶é‡æ–°å¯åŠ¨æ—¶çš„æ¢å¤åè®®ï¼Œå› ä¸ºç°åœ¨æ¶‰åŠåˆ°å¿«ç…§ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœRaftçŠ¶æ€å’Œå¿«ç…§æ˜¯åˆ†å¼€æäº¤çš„ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šåœ¨åšæŒå¿«ç…§å’ŒåšæŒæ›´æ–°çš„RaftçŠ¶æ€ä¹‹é—´å´©æºƒã€‚è¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå›¾13ä¸­çš„ç¬¬7æ­¥å†³å®šäº†å¿«ç…§æ‰€è¦†ç›–çš„Raftæ—¥å¿—å¿…é¡»è¢«ä¸¢å¼ƒã€‚å¦‚æœå½“æœåŠ¡å™¨é‡æ–°å¯åŠ¨æ—¶ï¼Œå®ƒè¯»å–çš„æ˜¯æ›´æ–°çš„å¿«ç…§ï¼Œè€Œä¸æ˜¯è¿‡æ—¶çš„æ—¥å¿—ï¼Œé‚£ä¹ˆå®ƒæœ€ç»ˆå¯èƒ½ä¼šåº”ç”¨ä¸€äº›å·²ç»åŒ…å«åœ¨å¿«ç…§ä¸­çš„æ—¥å¿—æ¡ç›®ã€‚è¿™ç§æƒ…å†µä¼šå‘ç”Ÿï¼Œå› ä¸ºcommitIndexå’ŒlastAppliedæ²¡æœ‰è¢«æŒä¹…åŒ–ï¼Œæ‰€ä»¥Raftä¸çŸ¥é“è¿™äº›æ—¥å¿—æ¡ç›®å·²ç»è¢«åº”ç”¨ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯åœ¨Raftä¸­å¼•å…¥ä¸€ä¸ªæŒä¹…åŒ–çŠ¶æ€ï¼Œè®°å½•RaftæŒä¹…åŒ–æ—¥å¿—ä¸­çš„ç¬¬ä¸€ä¸ªæ¡ç›®æ‰€å¯¹åº”çš„ â€œçœŸå® â€œç´¢å¼•ã€‚ç„¶åï¼Œè¿™å¯ä»¥ä¸åŠ è½½çš„å¿«ç…§çš„lastIncludedIndexè¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šåœ¨æ—¥å¿—çš„å¤´éƒ¨æœ‰å“ªäº›å…ƒç´ éœ€è¦ä¸¢å¼ƒ.</p>
</li>
</ul>
</li>
</ul>
<h2 id="Applications-on-top-of-Raft"><a href="#Applications-on-top-of-Raft" class="headerlink" title="Applications on top of Raft"></a>Applications on top of Raft</h2><ul>
<li><p>Applying client operations</p>
  <pre class="language-text" data-language="text"><code class="language-text">You may be confused about how you would even implement an application in terms of a replicated log. You might start off by having your service, whenever it receives a client request, send that request to the leader, wait for Raft to apply something, do the operation the client asked for, and then return to the client. While this would be fine in a single-client system, it does not work for concurrent clients.

Instead, the service should be constructed as a state machine where client operations transition the machine from one state to another. You should have a loop somewhere that takes one client operation at the time (in the same order on all servers â€“ this is where Raft comes in), and applies each one to the state machine in order. This loop should be the only part of your code that touches the application state (the key/value mapping in 6.824). This means that your client-facing RPC methods should simply submit the clientâ€™s operation to Raft, and then wait for that operation to be applied by this â€œapplier loopâ€. Only when the clientâ€™s command comes up should it be executed, and any return values read out. Note that this includes read requests!

This brings up another question: how do you know when a client operation has completed? In the case of no failures, this is simple â€“ you just wait for the thing you put into the log to come back out (i.e., be passed to apply()). When that happens, you return the result to the client. However, what happens if there are failures? For example, you may have been the leader when the client initially contacted you, but someone else has since been elected, and the client request you put in the log has been discarded. Clearly you need to have the client try again, but how do you know when to tell them about the error?

One simple way to solve this problem is to record where in the Raft log the clientâ€™s operation appears when you insert it. Once the operation at that index is sent to apply(), you can tell whether or not the clientâ€™s operation succeeded based on whether the operation that came up for that index is in fact the one you put there. If it isnâ€™t, a failure has happened and an error can be returned to the client.</code></pre>

<p>  è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ï¼Œå½“ä½ æ’å…¥å®¢æˆ·æ“ä½œæ—¶ï¼Œè®°å½•å®¢æˆ·æ“ä½œåœ¨Raftæ—¥å¿—ä¸­å‡ºç°çš„ä½ç½®ã€‚ä¸€æ—¦è¯¥ç´¢å¼•çš„æ“ä½œè¢«å‘é€åˆ°apply()ï¼Œä½ å¯ä»¥æ ¹æ®è¯¥ç´¢å¼•å‡ºç°çš„æ“ä½œæ˜¯å¦æ˜¯ä½ æ”¾åœ¨é‚£é‡Œçš„æ“ä½œæ¥åˆ¤æ–­å®¢æˆ·çš„æ“ä½œæ˜¯å¦æˆåŠŸã€‚å¦‚æœä¸æ˜¯ï¼Œå°±è¯´æ˜å‘ç”Ÿäº†å¤±è´¥ï¼Œå¯ä»¥å‘å®¢æˆ·è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p>
</li>
<li><p>Duplicate detection</p>
  <pre class="language-text" data-language="text"><code class="language-text">As soon as you have clients retry operations in the face of errors, you need some kind of duplicate detection scheme â€“ if a client sends an APPEND to your server, doesnâ€™t hear back, and re-sends it to the next server, your apply() function needs to ensure that the APPEND isnâ€™t executed twice. To do so, you need some kind of unique identifier for each client request, so that you can recognize if you have seen, and more importantly, applied, a particular operation in the past. Furthermore, this state needs to be a part of your state machine so that all your Raft servers eliminate the same duplicates.

There are many ways of assigning such identifiers. One simple and fairly efficient one is to give each client a unique identifier, and then have them tag each request with a monotonically increasing sequence number. If a client re-sends a request, it re-uses the same sequence number. Your server keeps track of the latest sequence number it has seen for each client, and simply ignores any operation that it has already seen.</code></pre>
</li>
<li><p>Hairy corner-cases</p>
  <pre class="language-text" data-language="text"><code class="language-text">If your implementation follows the general outline given above, there are at least two subtle issues you are likely to run into that may be hard to identify without some serious debugging. To save you some time, here they are:</code></pre>
<ul>
<li>Re-appearing indices</li>
</ul>
</li>
<li><p>The four-way deadlock</p>
  <pre class="language-text" data-language="text"><code class="language-text">All credit for finding this goes to Steven Allen, another 6.824 TA. He found the following nasty four-way deadlock that you can easily get into when building applications on top of Raft.

Your Raft code, however it is structured, likely has a Start()-like function that allows the application to add new commands to the Raft log. It also likely has a loop that, when commitIndex is updated, calls apply() on the application for every element in the log between lastApplied and commitIndex. These routines probably both take some lock a. In your Raft-based application, you probably call Raftâ€™s Start() function somewhere in your RPC handlers, and you have some code somewhere else that is informed whenever Raft applies a new log entry. Since these two need to communicate (i.e., the RPC method needs to know when the operation it put into the log completes), they both probably take some lock b.

In Go, these four code segments probably look something like this:</code></pre></li>
</ul>
<p>  </pre><br>  </details></p>
</li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æº,æ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯,æ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®º,ä¹Ÿå¯ä»¥é‚®ä»¶è‡³zxc741208584@gmail.com </span>
    </div>
</article>





    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'ca29b9a1203b5920918d',
            clientSecret: 'b1b2a10320acecd54ae9427f140164b2e63d13f5',
            repo: 'SimonTeo58.github.io',
            owner: 'SimonTeo58',
            admin: ['SimonTeo58'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    i hear i forget, i see i remember , i do i understand
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    
    #post .pjax article .article-entry>ol, #post .pjax article .article-entry>ul, #post .pjax article>ol, #post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    #post .pjax article .article-entry li>ol, #post .pjax article .article-entry li>ul,#post .pjax article li>ol, #post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    #post .pjax article .article-entry>ol>li, #post .pjax article .article-entry>ul>li,#post .pjax article>ol>li, #post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    #post .pjax article .article-entry li>ol>li, #post .pjax article .article-entry li>ul>li,#post .pjax article li>ol>li, #post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







</html>
